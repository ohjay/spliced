var Delaunay;!function(){"use strict";function r(r){var n,e,t,u,i,o,a=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(n=r.length;n--;)r[n][0]<a&&(a=r[n][0]),r[n][0]>f&&(f=r[n][0]),r[n][1]<l&&(l=r[n][1]),r[n][1]>h&&(h=r[n][1]);return e=f-a,t=h-l,u=Math.max(e,t),i=a+.5*e,o=l+.5*t,[[i-20*u,o-u],[i,o+20*u],[i+20*u,o-u]]}function n(r,n,e,u){var i,o,a,l,f,h,s,I,c,N,p=r[n][0],g=r[n][1],v=r[e][0],E=r[e][1],T=r[u][0],b=r[u][1],k=Math.abs(g-E),m=Math.abs(E-b);if(t>k&&t>m)throw new Error("Eek! Coincident points!");return t>k?(l=-((T-v)/(b-E)),h=(v+T)/2,I=(E+b)/2,i=(v+p)/2,o=l*(i-h)+I):t>m?(a=-((v-p)/(E-g)),f=(p+v)/2,s=(g+E)/2,i=(T+v)/2,o=a*(i-f)+s):(a=-((v-p)/(E-g)),l=-((T-v)/(b-E)),f=(p+v)/2,h=(v+T)/2,s=(g+E)/2,I=(E+b)/2,i=(a*f-l*h+I-s)/(a-l),o=k>m?a*(i-f)+s:l*(i-h)+I),c=v-i,N=E-o,{i:n,j:e,k:u,x:i,y:o,r:c*c+N*N}}function e(r){var n,e,t,u,i,o;for(e=r.length;e;)for(u=r[--e],t=r[--e],n=e;n;)if(o=r[--n],i=r[--n],t===i&&u===o||t===o&&u===i){r.splice(e,2),r.splice(n,2);break}}var t=1/1048576;Delaunay={triangulate:function(u,i){var o,a,l,f,h,s,I,c,N,p,g,v,E=u.length;if(3>E)return[];if(u=u.slice(0),i)for(o=E;o--;)u[o]=u[o][i];for(l=new Array(E),o=E;o--;)l[o]=o;for(l.sort(function(r,n){return u[n][0]-u[r][0]}),f=r(u),u.push(f[0],f[1],f[2]),h=[n(u,E+0,E+1,E+2)],s=[],I=[],o=l.length;o--;I.length=0){for(v=l[o],a=h.length;a--;)c=u[v][0]-h[a].x,c>0&&c*c>h[a].r?(s.push(h[a]),h.splice(a,1)):(N=u[v][1]-h[a].y,c*c+N*N-h[a].r>t||(I.push(h[a].i,h[a].j,h[a].j,h[a].k,h[a].k,h[a].i),h.splice(a,1)));for(e(I),a=I.length;a;)g=I[--a],p=I[--a],h.push(n(u,p,g,v))}for(o=h.length;o--;)s.push(h[o]);for(h.length=0,o=s.length;o--;)s[o].i<E&&s[o].j<E&&s[o].k<E&&h.push(s[o].i,s[o].j,s[o].k);return h},contains:function(r,n,e){var t=r[1][0]-r[0][0],u=r[2][0]-r[0][0],i=r[1][1]-r[0][1],o=r[2][1]-r[0][1],a=t*o-u*i;if(0===a)return null;var l=(o*(n[0]-r[0][0])-u*(n[1]-r[0][1]))/a,f=(t*(n[1]-r[0][1])-i*(n[0]-r[0][0]))/a;return-e>l||-e>f||l+f>1+e?null:[l,f]}},"undefined"!=typeof module&&(module.exports=Delaunay)}();